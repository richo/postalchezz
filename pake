#!/bin/sh

# Quick and shitty make/rake/whatever dropin for my common tasks

BEGIN() {
    set -x
}

FINISH() {
    set +x
}

case $1 in
    deploy)
        BEGIN

        appcfg.py update .

        FINISH
        ;;
    rollback)
        BEGIN

        appcfg.py rollback .

        FINISH
        ;;
    debug_logs)
        BEGIN

        appcfg.py --severity 0 request_logs . logs.txt

        FINISH
        ;;
    logs)
        BEGIN

        appcfg.py request_logs . logs.txt

        FINISH
        ;;

    *)
        echo "Unknown command '$1'"
        ;;
esac

